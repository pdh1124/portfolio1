<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pila.mapper.AdminMapper">

	<!-- 관리자 상품 등록 -->
	<insert id="register">
		<![CDATA[
		insert into tbl_goods (gNum, gName, cateCode, price, stock, gDes, gImg, thumbImg)
		values (tbl_goods_seq.nextval, #{gName}, #{cateCode}, #{price}, #{stock}, #{gDes}, #{gImg}, #{thumbImg})
		]]>
	</insert>
	
	<!-- 관리자 상품 리스트 -->
	<select id="list" resultType="com.pila.domain.GoodsVO">
		<![CDATA[
		 select *
		 from (
		 	select rownum rn, gNum, gName, cateCode, price, stock, gDes, gImg, regDate, sellCount, thumbImg
		 	from tbl_goods
		 	where rownum <= #{pageNum} * #{amount} order by gNum desc
		 	)
		 where rn > (#{pageNum}-1) * #{amount}
		]]>
	</select>

</mapper>